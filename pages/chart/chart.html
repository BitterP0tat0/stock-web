<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alpha Vantage Stock Chart with Dark Mode</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../css/chart.css" />
  </head>
  <body class="p-4 display-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand" onclick="toMainPage()" style="cursor: pointer" data-i18n="brand">Finance</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto mb-4 mb-lg-0 align-items-center">
            <li class="nav-item">
              <a
                class="nav-link mt-2"
                onclick="toAccountPage()"
                style="cursor: pointer"
                data-i18n="my_account"
                >My Account</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link mt-2"
                onclick="toPortfolioPage()"
                style="cursor: pointer"
                data-i18n="portfolio"
                >Portfolio</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link mt-2"
                onclick="toPremiumPage()"
                style="cursor: pointer"
                data-i18n="premium"
                >Premium</a
              >
            </li>
              <li class="nav-item">
              <a class="nav-link mt-2" onclick="toNewsPage()" style="cursor: pointer" data-i18n="news">News</a
              >
            </li>
            <button
              id="mode-toggle"
              class="btn btn-outline-secondary ms-2 mt-2 lang-toggle"
              data-i18n="dark_mode"
            >
              Dark Mode
            </button>
          </ul>
        </div>
      </div>
    </nav>
    <div class="content">
      <h1 class="text-center mt-4 mb-3" data-i18n="chart_title"></h1>
      <div id="buttons" class="text-center">
        <button onclick="loadChart('daily')" class="btn btn-primary" data-i18n="daily">
          Daily
        </button>
        <button onclick="loadChart('monthly')" class="btn btn-primary" data-i18n="monthly">
          Monthly
        </button>
        <button onclick="loadChart('yearly')" class="btn btn-primary" data-i18n="yearly">
          Yearly
        </button>
      </div>
      <div id="chart-container">
        <canvas id="closePriceChart"></canvas>
      </div>
        <div class="text-center mt-3">
    <button class="btn btn-success me-2" data-i18n="buy">Buy</button>
    <button class="btn btn-danger" data-i18n="sell">Sell</button>
  </div>
      
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="../../scripts/chart.js"></script>
    <script type="module">
      import { initI18n } from '../../scripts/i18n.js';
      initI18n();
    </script>

    <script>

      function toAccountPage() {
        const email = new URLSearchParams(window.location.search).get("email")

        window.location.href = `../PersonalInfo/personalinfo.html?email=${email}`;
      }
      function toMainPage() {
        const email = new URLSearchParams(window.location.search).get("email")
      
        window.location.href = `../stock_trade/main.html?email=${email}`;
      }
      function toPremiumPage() {
        const email = new URLSearchParams(window.location.search).get("email")

        window.location.href = `../premium/premium.html?email=${email}`;
      }
      function toNewsPage() {
        const email = new URLSearchParams(window.location.search).get("email")

        window.location.href = `../news/news.html?email=${email}`;
      }
      function toPortfolioPage() {
        const email = new URLSearchParams(window.location.search).get("email")

        window.location.href = `../portfolio/portfolio.html?email=${email}`;
      }
    </script>
  </body>
</html>
